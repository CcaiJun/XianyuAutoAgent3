# 📋 交互式管理菜单使用说明

## 🚀 快速开始

**直接运行传统数字菜单：**
```bash
./menu.sh
```

## 📱 界面预览

启动后会看到如下界面：

```
╔══════════════════════════════════════════════════════════════╗
║                🚀 闲鱼自动代理系统管理菜单                     ║
║              智能闲鱼客服机器人系统 - 操作界面                 ║
╚══════════════════════════════════════════════════════════════╝

当前系统状态:
  🔴 主程序 (main.py): 已停止
  🔴 Web界面 (app.py): 已停止

═══════════════ 操作菜单 ═══════════════

  1. 启动主程序 (后台运行)
  2. 启动Web界面 (后台运行)
  3. 启动所有服务 (后台运行)
  4. 停止主程序
  5. 停止Web界面
  6. 停止所有服务
  7. 重启主程序
  8. 重启Web界面
  9. 查看系统状态
  10. 查看日志
  11. Cookie管理
  12. Web账户管理
  0. 退出

════════════════════════════════════════

请输入选项 (0-12): 
```

## 🎯 操作说明

### 基础操作
- **输入数字** - 直接输入 1-12 的数字选择对应功能
- **按回车确认** - 输入数字后按回车键执行
- **退出程序** - 输入 0 退出菜单

### 常用操作流程

#### 🚀 启动系统
1. 运行 `./menu.sh`
2. 输入 `3` + 回车（启动所有服务）
3. 系统自动在后台启动主程序和Web界面

#### 📊 检查状态
1. 输入 `9` + 回车（查看系统状态）
2. 查看详细的系统运行状态和资源使用情况

#### 📄 查看日志
1. 输入 `10` + 回车（查看日志）
2. 选择要查看的日志类型：
   - `1` - 主程序日志
   - `2` - Web界面日志
   - `3` - 所有日志

#### 🍪 管理Cookie
1. 输入 `11` + 回车（Cookie管理）
2. 选择Cookie操作：
   - `1` - 查看Cookie状态
   - `2` - 更新Cookie
   - `3` - 验证Cookie
   - `4` - 备份.env文件

#### 👤 Web账户管理
1. 输入 `12` + 回车（Web账户管理）
2. 选择账户操作：
   - `1` - 查看当前登录配置
   - `2` - 修改用户名和密码
   - `3` - 重置为默认配置
   - `4` - 生成随机密码

##### 🔑 修改登录凭据详细步骤
1. 选择 `2` - 修改用户名和密码
2. 输入新用户名（留空保持当前用户名）
3. 输入新密码（必填）
4. 再次确认新密码
5. 设置会话有效期（小时，默认24小时）
6. 系统自动生成安全密钥
7. 选择是否立即重启Web界面

##### 🎲 生成随机密码功能
1. 选择 `4` - 生成随机密码
2. 查看不同长度的密码选项（8/12/16/20位）
3. 选择合适的密码长度
4. 选择是否应用到当前配置
5. 系统自动更新配置文件

#### ⏹️ 停止系统
1. 输入 `6` + 回车（停止所有服务）
2. 系统会安全停止所有运行的服务

## 🎨 界面特色

### 彩色显示
- **🟢 绿色** - 服务运行中 / 启动操作
- **🔴 红色** - 服务已停止 / 错误信息
- **🟡 黄色** - 警告信息 / 停止操作
- **🔵 蓝色** - 信息显示 / 管理操作
- **🟣 紫色** - 重启操作

### 实时状态
- 每次进入菜单都会显示当前系统状态
- 绿色圆点表示服务运行中
- 红色圆点表示服务已停止

### 自动清屏
- 每次操作后自动清屏
- 保持界面整洁清晰

## 🔧 技术特性

### 后台运行
- 所有启动操作都在后台运行
- 不会占用终端
- 服务独立运行，关闭菜单不影响服务

### 进程检测
- 自动检测服务运行状态
- 防止重复启动
- 智能进程管理

### 集成功能
- 集成Cookie管理功能
- 集成Web账户管理功能
- 调用高级系统管理器功能
- 完整的日志查看

### 安全特性
- 密码输入时自动隐藏
- 自动生成安全密钥
- 密码确认机制
- 配置文件安全存储

## 💡 使用技巧

### 快速启动
```bash
# 一键启动
./menu.sh
# 输入 3，启动所有服务
# 输入 0，退出菜单
```

### 常用组合
1. **系统启动** - 3 → 9 (启动 → 检查状态)
2. **问题诊断** - 9 → 10 (状态 → 日志)
3. **Cookie维护** - 11 → 1 (Cookie管理 → 状态检查)
4. **账户安全** - 12 → 4 (Web账户管理 → 生成随机密码)

### 安全关闭
1. 输入 `6` 停止所有服务
2. 输入 `0` 退出菜单

### Web账户管理最佳实践
1. **初次使用** - 立即修改默认密码
2. **定期更新** - 建议每月更换密码
3. **强密码策略** - 使用12位以上随机密码
4. **安全存储** - 妥善保存新密码

## 🆚 与其他脚本的区别

| 脚本 | 特点 | 适合场景 |
|------|------|----------|
| `menu.sh` | **传统数字菜单** | 喜欢数字操作，简单直观 |
| `manage.sh` | 命令行参数 | 脚本调用，自动化 |
| `scripts/system_manager.py` | 高级交互界面 | 详细管理，专业用户 |

## 📞 获取帮助

如果遇到问题：
1. 检查脚本权限：`ls -la menu.sh`
2. 确保在项目根目录运行
3. 查看日志了解详细错误信息
4. Web登录问题请检查 `web_ui_config.json` 文件

---

**🎉 这就是您要的传统数字菜单！输入数字按回车即可操作，简单直观！现在还包含完整的Web账户管理功能！** 